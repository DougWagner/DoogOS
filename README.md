# DoogOS

## About

A work-in-progress operating system for x86 architecture.

Code is inspired by tutorials at wiki.osdev.org

## Compiling and running DoogOS

### Compiling

In order to compile DoogOS, you will need a gcc cross-compiler with binutils. 
To get a cross compiler, [follow these steps](http://wiki.osdev.org/GCC_Cross-Compiler) on the osdev wiki.
The target architecture for building is i686, DoogOS does not have implementation for any other architectures at this time.
If the cross compiler is not in your PATH environment variable, the build script will not be able to execute.

In addition to a cross-compiler, DoogOS requires GRUB in order to make a bootable iso/disk.
The build script `build.sh` will execute the command `grub-mkrescue` which also requires an installation of xorriso in order to make the .iso file.

`build.sh` accepts an argument `-noclean` which will preserve all of the object and library files generated by the compilation process.
If executed with no arguments, all generated files except for `DoogOS.kernel` and `DoogOS.iso` will be removed.

### Running

In order to run DoogOS, the easiest way is to use QEMU.
I have not tested DoogOS with any other emulator/virtualizers. Please log an issue with your attempts.
The command to run DoogOS is `qemu-system-i386 -cdrom DoogOS.iso`.
QEMU will load the GRUB boot menu, so just select DoogOS and see the wonderful text printed to the screen.

To run DoogOS quickly, you can use the `run.sh` script, which is a simple frontend for the command mentioned in the previous paragraph.
`run.sh` accepts an argument `-k` which tells QEMU to run the kernel directly and skip the GRUB boot menu.
`run.sh` requires `DoogOS.iso` to be present, and `run.sh -k` requires `DoogOS.kernel` to be present.

### To summarize, compiling and running DoogOS requires the following:

* gcc i686 cross compiler
* i686 binutils
* GRUB
* xorriso
* QEMU ix86 emulator
